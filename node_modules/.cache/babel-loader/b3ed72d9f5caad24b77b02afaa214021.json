{"ast":null,"code":"var _jsxFileName = \"/home/tuankhai/Desktop/project/react/redux-TodoList/src/App.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './App.css';\nimport TodoHeader from './components/todoheader';\nimport TodoBody from './components/todobody';\nimport TodoFooder from './components/todofooder';\n\nvar randomstring = require(\"randomstring\");\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.randomID = () => {\n      return randomstring.generate(7) + '-' + randomstring.generate(9) + '-' + randomstring.generate(12);\n    };\n\n    this.onPushToDoList = dataToDo => {\n      let todoItem = this.state.todoItem;\n      this.setState({\n        todoItem: [...todoItem, this.onCreatNewToDo(dataToDo)]\n      });\n      let todoList = JSON.stringify(todoItem);\n      this.updateLocalStorage(todoList);\n    };\n\n    this.updateLocalStorage = todoList => {\n      localStorage.setItem('todoItems', todoList);\n    };\n\n    this.onFilterChange = value => {\n      this.setState({\n        filter: value\n      });\n    };\n\n    this.onFilter = (todoItems, filter) => {\n      if (filter === 1) {\n        return todoItems.filter(todoItem => {\n          return todoItem.isComplete === true;\n        });\n      }\n\n      if (filter === -1) {\n        return todoItems.filter(todoItem => {\n          return todoItem.isComplete === false;\n        });\n      } else {\n        return todoItems;\n      }\n    };\n\n    this.onData = () => {\n      if (localStorage.getItem('todoItems')) {\n        return JSON.parse(localStorage.getItem('todoItems'));\n      } else {\n        return [];\n      }\n    };\n\n    this.state = {\n      todoItem: this.onData(),\n      filter: 0\n    };\n  }\n\n  render() {\n    const filter = this.state.filter;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"todos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(TodoHeader // inputVal = { this.onCreatNewToDo }\n    , {\n      addItem: this.onPushToDoList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(TodoBody // data={this.onFilter(todoItem,filter)}\n    // onUpdateStatus={this.onUpdateStatus}\n    // removeItem={this.removeItem}\n    , {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(TodoFooder, {\n      filter: filter,\n      onFilterChange: this.onFilterChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = (despatch, props) => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/tuankhai/Desktop/project/react/redux-TodoList/src/App.js"],"names":["React","Component","connect","TodoHeader","TodoBody","TodoFooder","randomstring","require","App","constructor","props","randomID","generate","onPushToDoList","dataToDo","todoItem","state","setState","onCreatNewToDo","todoList","JSON","stringify","updateLocalStorage","localStorage","setItem","onFilterChange","value","filter","onFilter","todoItems","isComplete","onData","getItem","parse","render","mapStateToProps","mapDispatchToProps","despatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport './App.css';\n\nimport TodoHeader from './components/todoheader';\nimport TodoBody from './components/todobody';\nimport TodoFooder from './components/todofooder';\n\n\nvar randomstring = require(\"randomstring\");\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todoItem: this.onData(),\n      filter : 0\n    }\n  }\n\n  randomID = () => {\n    return randomstring.generate(7) + '-' + randomstring.generate(9) + '-' + randomstring.generate(12);\n  }\n\n  \n  onPushToDoList = (dataToDo) => {\n    let { todoItem } = this.state;\n    this.setState({\n      todoItem: [\n        ...todoItem,\n        this.onCreatNewToDo(dataToDo)\n      ]\n    });\n    let todoList = JSON.stringify(todoItem);\n    this.updateLocalStorage(todoList);\n  }\n\n  // onUpdateStatus = (index) => {\n  //   console.log(index);\n  //   let { todoItem } = this.state;\n  //   todoItem[index].isComplete = !todoItem[index].isComplete;\n  //   this.setState({\n  //     todoItem: todoItem,\n  //   });\n  //   let todoList = JSON.stringify(todoItem);\n  //   this.updateLocalStorage(todoList);\n  // }\n\n  // removeItem = (index) => {\n  //   console.log(index);\n  //   let { todoItem } = this.state;\n  //   this.setState({\n  //     todoItem:[\n  //       ...todoItem.slice(0,index),\n  //       ...todoItem.splice(index-1,0),\n  //       ...todoItem.slice(index+1)\n  //     ]\n  //   });\n  //   let todoList = JSON.stringify(todoItem);\n  //   this.updateLocalStorage(todoList);\n\n  // }\n\n  updateLocalStorage = (todoList) => {\n    localStorage.setItem('todoItems', todoList);\n  }\n\n  onFilterChange = (value) => {\n    this.setState({\n      filter : value\n    });\n  }\n\n  onFilter = (todoItems,filter) => {\n    if(filter === 1){\n      return todoItems.filter((todoItem) => {\n        return todoItem.isComplete === true;\n      })\n    }\n    if(filter === -1){\n      return todoItems.filter((todoItem) => {\n        return todoItem.isComplete === false;\n      })\n    }\n    else{\n      return todoItems;\n    }\n\n  }\n\n  onData = () => {\n    if(localStorage.getItem('todoItems')){\n      return JSON.parse(localStorage.getItem('todoItems'));\n    }else {\n      return [];\n    }\n  }\n\n  render() {\n    const {  filter } = this.state;\n    return (\n      <div className=\"App\">\n        <div className=\"todos\">\n          <TodoHeader\n            // inputVal = { this.onCreatNewToDo }\n            addItem={this.onPushToDoList}\n          />\n          <TodoBody\n            // data={this.onFilter(todoItem,filter)}\n            // onUpdateStatus={this.onUpdateStatus}\n            // removeItem={this.removeItem}\n          />\n          <TodoFooder \n            filter= {filter}\n            onFilterChange = { this.onFilterChange }\n          />\n        </div>\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n}\n\nconst mapDispatchToProps = (despatch, props) => {\n  return {};\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}